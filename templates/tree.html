{% extends 'base.html' %}
{% load static %}
{% load select_icon %}

{% block title_block %}
Tree
{% endblock %}

{% block head_block %}
<link rel="stylesheet" href="{% static 'style/crumbs.css' %}" />
{% endblock %}

{% block body_block %}

{% include "crumbs.html" %}
<table class="mfgd_table">
    <tr>
        <th>Name</th>
        <th>Commit</th>
        <th>Hash</th>
        <th>Date</th>
    </tr>
    {% for entry in entries %}
    <tr>
        <td class="{{ entry.type_str }}"><a href="{{ entry.name }}/">
        {% select_icon entry %}
        {{ entry.name }}</a></td>
        <td class="commit-msg">{{ entry.last_change.message }}</a></td>
        {% if entry.last_change %}
        <td class="commit-id"><a class="commit" href="{% url 'info' repo_name entry.last_change_id %}">{{ entry.last_change.short_id }}</a></td>
        {% else %}
        <td class="commit-id">{{ entry.last_change.short_id }}</td>
        {% endif %}
        <td class="commit-date">
            <time datetime="{{ entry.change_time }}">{{ entry.change_time }}</time>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
